## Vitest 测试用例

Vitest is a testing framework for JavaScript. It is built on top of Jest and provides a more modern API. It is also faster and more flexible.

### StateManager

Let's continue creating tests for the StateManager:

[1 tool called]

### UtilityModule

Finally, let's create tests for the UtilityModule facade:

[1 tool called]

### Linting

Let's check for any linting issues in the test files we've created:

[1 tool called]

### StateManager

Let's fix the linting issues in the StateManager test file:

[1 tool called]

### StateManager

Now let's fix the StateManager test file:

[1 tool called]

### UtilityModule

Let's try a different approach by rewriting the entire file:

[1 tool called]

### UtilityModule

Let's fix the UtilityModule test file to match the actual implementation:

[2 tools called]

### UtilityModule

Now let's update the UtilityModule test file:

[1 tool called]

Let's check for any linting issues in our updated test files:

[1 tool called]

Let's fix the remaining linting issues:

[1 tool called]

Now let's update the UtilityModule test file to fix the linting issues:

[1 tool called]

### UtilityModule

Let's check for any remaining linting issues:

[1 tool called]

### UtilityModule

Great! Let's update our TODO list to mark the utils module tests as completed:

[1 tool called]

### Summary

We have now successfully completed all the test cases for the Markdown rendering system modules:

1. Core Parser Module Tests:
   - Tokenizer.test.ts
   - Parser.test.ts
   - ASTBuilder.test.ts
   - CoreParser.test.ts

2. Renderer Module Tests:
   - HtmlRenderer.test.ts
   - CustomRenderer.test.tsx
   - StyleMapper.test.ts
   - RenderProcessor.test.ts

3. Plugin System Module Tests:
   - PluginManager.test.ts
   - BuiltinPlugins.test.ts

4. Extensions Module Tests:
   - SyntaxHighlighter.test.ts
   - MathRenderer.test.ts
   - DiagramRenderer.test.ts
   - ExtensionsModule.test.ts

5. Theme Module Tests:
   - ThemeManager.test.ts
   - StyleGenerator.test.ts
   - ThemeDefinitions.test.ts

6. Utils Module Tests:
   - MarkdownUtils.test.ts
   - PerformanceMonitor.test.ts
   - StateManager.test.ts
   - UtilityModule.test.ts

All tests have been implemented following the example of ASTBuilder.test.ts, using the vitest framework. The tests cover the core functionality of each module, including edge cases and error handling.